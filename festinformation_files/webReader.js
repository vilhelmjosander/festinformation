window.ReadSpeakerDefer={deferred:null,clickhandler:function(e){if(!window.ReadSpeakerDefer.deferred){var t=(e=e||window.event).target||e.srcElement;if((t=3===t.nodeType?t.parentNode:t)!==document&&window.ReadSpeakerDefer.isRSLink(t)){var r=!0;return window.rspkr&&rspkr.item&&rspkr.item("general.confirmPolicy")&&(confirm(rspkr.item("general.confirmPolicy"))||(r=!1)),r&&(window.ReadSpeakerDefer.deferred=t,(t=window.ReadSpeakerDefer.findRSParent(t))&&t.className&&!/rsdeferred/i.test(t.className)&&(t.className+=" rsdeferred"),window.ReadSpeakerJIT&&(window.rspkr.createAudio(),window.rspkr.loadCore())),e.cancelBubble=!0,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}}},init:function(){this.RSDeferClick()},isRSLink:function(e){return this.isRSParent(e.parentNode)||e.href&&-1<e.href.indexOf("readspeaker.com/cgi-bin/rsent")},isRSParent:function(e){return!(!e||e===document)&&("function"==typeof e.getAttribute&&e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("rsbtn")||e.id&&"string"==typeof e.id&&-1<e.id.indexOf("readspeaker_button")||this.isRSParent(e.parentNode))},findRSParent:function(e){for(;e.parentNode&&e.parentNode!==document&&("a"!==(e=e.parentNode).tagName.toLowerCase()||!this.isRSLink(e)););return e===document?void 0:e.parentNode},RSDeferClick:function(){document.addEventListener?document.addEventListener("click",this.clickhandler,!1):document.attachEvent?document.attachEvent("onclick",this.clickhandler):document.onclick=this.clickhandler}},window.readpage=function(e,t,r){return rspkr.item("general.confirmPolicy")&&!confirm(rspkr.item("general.confirmPolicy"))||(window.ReadSpeakerDefer.deferred={href:e,target:t,options:r},window.ReadSpeakerJIT&&(window.rspkr.createAudio(),window.rspkr.loadCore())),!1},window.ReadSpeakerDefer.init(),function(ge){var e=function(){function r(e){e=e.replace("_",".");var t=!1===k[e]?[e]:k[e];d++;for(var r,n=0;r=t[n];n++){var o=U(r);if("function"==typeof o.init)if(o.dependency){if(!Y(o.dependency)){le("[rspkr.setCoreLoaded] Dependencies for "+r+" ("+o.dependency+") are not yet loaded. Putting it on hold."),E[r]=o.dependency.constructor===Array?o.dependency:[o.dependency];for(var i,s=E[r].length-1;i=E[r][s];s--)Y(i)&&E[r].splice(s,1);continue}o.init.apply(o,[])}else o.init.apply(o,[]);!function(e){for(var t in le("[rspkr.setCoreLoaded] Done loading module "+e),A.push(e),E)if(E[t].length)for(var r,n=E[t].length-1;r=E[t][n];n--)r!==e&&!Y(r)||E[t].splice(n,1),0===E[t].length&&(le("[rspkr.setCoreLoaded] All dependencies for "+t+" have been loaded. Resuming its initiation."),A.push(t),(r=U(t)).init.apply(r,[]))}(r)}d===Object.size(k)&&(rspkr.Common.addEvent("onModsLoaded",function(){rspkr.ds.unload(),rspkr.c.Detect.init(),rspkr.popup.init()}),O=!0,V("rsmod_lib.RSLib"))}function c(){if("string"==typeof $.forceAdapter&&$.forceAdapter.length){if("ioshtml5"!==$.forceAdapter)return $.forceAdapter;if(/apple/i.test(navigator.vendor)&&/ios|iphone|ipad|ipod/i.test(navigator.userAgent))return $.noLazyLoad=!0,$.forceAdapter="html5";$.forceAdapter=!1}return ge.AudioContext||ge.webkitAudioContext?"webAudio":"html5"}function u(){for(var e=J(),t=0,r=e.length;t<r;t++)$rs.addClass(e[t],W.join(" "))}function p(){if(!O&&!P)if(P=!0,!z||$.noDefaultSkin&&"1"===$.noDefaultSkin||re.load({id:"rsmod_Styles",type:"text/css",src:v+y+".Styles"+(H.length?H:"")+".css",cb:null}),/combined/i.test($.pids))for(var e in k)k.hasOwnProperty(e)&&r(e);else for(var t in k)k.hasOwnProperty(t)&&(t=t,re.load({id:"req_"+t,type:"text/javascript",src:("pub.Config"===t?y:v+y)+"."+t+".js",cb:function(e){e=ge.event&&ge.event.srcElement&&ge.event.srcElement.id?ge.event.srcElement.id:e;e&&r(e.replace("req_",""))},async:!0}))}function f(){rspkr.log("[rspkr.updateBaseClass] Attempting to update..");for(var e=document.getElementsByTagName("div"),t=/\brsbtn\b/,r=0,n=e.length;r<n;r++)t.test(e[r].className)&&(e[r].className=e[r].className.replace(t,"rsbtn "+B.toLowerCase()));rspkr.log("[rspkr.updateBaseClass] Update successful!")}function e(){if(rspkr.cfg&&rspkr.item("general.popupHref"))return rspkr.item("general.popupHref");if(rspkr.item("general.popupHref"))return rspkr.item("general.popupHref");for(var e=rspkr.getRSBtns(),t=0;r=e[t];t++){var r=r.querySelector(".rsbtn_play"),r=r?r.getAttribute("href"):void 0;if(r)return r}if(document.querySelectorAll){for(var n,o=document.querySelectorAll(".rs_href"),i=0;n=o[i];i++){if($rs.getAttr(n,"href"))return $rs.getAttr(n,"href");if($rs.getAttr(n,"data-href"))return $rs.getAttr(n,"data-href")}for(var s,a=document.querySelectorAll('a[href*="readspeaker.com"]'),l=0;s=a[l];l++)if(/rsent?/gi.test($rs.getAttr(s,"href")))return $rs.getAttr(s,"href")}return null}function t(){var e=rspkr.item("general.selectionPlayer");if(e){var t=document.querySelector(e);if(t)return t}return(t=document.querySelector(".rs_exp"))||null}function n(e){return e=e?".":"",rspkr.skin&&"default"!==rspkr.skin?e+rspkr.skin.toLowerCase():e+(rspkr.item("ui.rsbtnClass")||"rsbtn")}function o(e){N=/^,[0-9,]*,$/.test(e)?e:","+e+","}var g,i,s,h,m,b,a,l={major:"3",minor:"6",update:"0",revision:"1975",prod:"wr"},y="ReadSpeaker",v="r/r1975/",k=[],d=0,w=0,S=!1,A=[],E={},C=0,_=[],D=[],R=!1,L=0,x=!1,$=null,B="default",T=[],O=!1,P=!1,N="",I={},M="",j=null,z=!1,F=!1,q=[],H="",W=[],U=function(e){if("string"==typeof e){for(var t=(e="ReadSpeaker."+e.replace("_",".")).split("."),r=ge,n=0,o=t.length;n<o;n++){if(!r)return!1;if(!r[t[n]])return!1;if(n===o-1)return r[t[n]];r=r[t[n]]}return!1}},V=function(e){A.push(e);e=U(e);"function"==typeof e.init&&e.init.apply(e,[]),function(){if(O&&ge.ReadSpeaker.modmap){var e=ge.ReadSpeaker.modmap,t=[],r=0,n="|",o=[];for(var i=0,s=T.length;i<s;i++)if(t=e.products&&typeof e.products[T[i]]==="function"?e.products[T[i]]():null){r=0;for(var a=0,l=t.length;a<l;a++)if(n.indexOf("|"+t[a][0]+t[a][1]+"|")===-1){if(t[a][0].length){o[t[a][0]]=t[a][2];re.load({id:"rsmod_"+t[a][0],type:t[a][1],src:(t[a][2]&&t[a][2]===true?y:v+y)+"."+t[a][0]+(t[a][1]==="text/css"?".css":".js"),cb:function(){var e=(ge.event&&ge.event.srcElement&&ge.event.srcElement.id?ge.event.srcElement.id:this.id).replace("rsmod_","");X(e,o[e])},async:true})}if(typeof t[a][1]!=="undefined"&&/text\/javascript/.test(t[a][1]))r++;n+=t[a][0]+t[a][1]+"|"}w+=r}S=true;if(t.length===0)X(null,null,true)}}()},X=function(e,t,r){if(!(r=void 0!==r)){A.push(e),C++;for(var n=0,o=(t=t||[e]).length;n<o;n++)try{var i=U(t[n]);"function"==typeof i.init&&i.init.apply(i,[])}catch(e){le("[rspkr] Could not load: "+t[n]+" | "+e,3)}}C===w&&!0===S&&(le("[rspkr] All prod mods loaded. _domready = "+x,4),z&&ge.ReadSpeaker.loadInit(),ge.ReadSpeaker.Common.addEvent("onReady",function(){rspkr.devt("onBeforeQueueExecuted",ge),te.executeCode(),te.flush(),rspkr.devt("onAfterQueueExecuted",ge),j&&function(){rspkr.log("[rspkr.startAutoplay] Id: "+j);var e=$rs.get(j);if($rs.isArray(e)&&e.length)e=e[0];else if($rs.isArray(e)&&!e.length)return;var t=$rs.findIn(e,"a");if($rs.isArray(t)&&t.length)t=t[0];else if($rs.isArray(t)&&!t.length)return;ge.readpage(t)}()}),e=function(){rspkr.Common.createShortcuts(),rspkr.devt("onModsLoaded",ge),rspkr.devt("onAfterModsLoaded",ge),rspkr.devt("onReady",ge),ge.ReadSpeaker.ui.viewport={width:$rs.width(ge),height:$rs.height(ge)}},x?e():ge.ReadSpeaker.Common.addEvent("onDOMReady",e))},Y=function(e){e.constructor===Array||(e=[e]);for(var t,r=0,n=0;t=A[n];n++)for(var o,i=0;o=e[i];i++)if(t===o){r++;break}return r===e.length},K={isLoaded:!1,isTogglerAdded:!1,toggler:{add:function(){if(!(document.documentMode&&document.documentMode<=9||rspkr.nofeatures()||rspkr.notools()||rspkr.mobile()))for(var e,t=J("rs_addtools"),r=rspkr.item("ui.tooltoggler.big"),n=0,o=t.length;n<o;n++)t[n]&&t[n].className&&-1===t[n].className.indexOf("rs_notools")&&(r&&$rs.addClass(t[n],"mega_toggle"),t[n].querySelectorAll(".rsbtn_tooltoggle").length||((e=document.createElement("div")).innerHTML='<button type="button" class="rsbtn_tooltoggle" data-rslang="title/arialabel:menu" title="%tgl%" aria-label="%tgl%" aria-expanded="false" data-rs-tooltip="." data-rs-direction="u"><span class="rsicn rsicn-arrow-down" aria-hidden="true"></span></button>'.replace(/%tgl%/g,rspkr.getPhrase("menu",rspkr.uiLang())),e.childNodes[0].style.display="none",t[n].insertBefore&&(e=t[n].insertBefore(e.childNodes[0],t[n].firstChild),t[n].id&&t[n].id.length||(t[n].id=rspkr.getID()),$rs.setAttr(e,"data-rs-container",t[n].id),$rs.regEvent(e,"mouseover focus",K.toggler.events.over),$rs.regEvent(e,"mouseout blur",K.toggler.events.out),$rs.regEvent(e,"click",K.toggler.events.click),rspkr.accessKeys=rspkr.accessKeys||{},rspkr.accessKeys[1]||(e.accessKey="1",rspkr.accessKeys[1]=1),K.isTogglerAdded=!0)))},events:{over:function(e){rspkr.preventDefault(e),K.zoomTogglerIn(document.getElementById($rs.getAttr(this,"data-rs-container")))},out:function(e){rspkr.preventDefault(e),K.zoomTogglerOut(document.getElementById($rs.getAttr(this,"data-rs-container")))},click:function(e){rspkr.preventDefault(e),K.load.apply(this,[e])}}},load:function(e){var t=this;e&&e.type&&-1<e.type.indexOf("mouse")?q[$rs.getAttr(t,"data-rsevent-id")]=ge.setTimeout(function(){K.dispatch(t)},500):K.dispatch(t)},loadCancel:function(){q[$rs.getAttr(this,"data-rsevent-id")]&&ge.clearTimeout(q[$rs.getAttr(this,"data-rsevent-id")])},dispatch:function(e){R?(K.afterLoad.apply(e,[!0]),K.open.apply(e,[])):(p(),_.push(function(){K.afterLoad.apply(e,[!0]),rspkr.ui.addTools(),K.open.apply(e,[])}))},afterLoad:function(){function e(e){$rs.unregEvent(this,"mouseleave"),$rs.regEvent($rs.closest(e,".rsbtn_tools"),"mouseleave",function(){$rs.unregEvent(this,"mouseleave"),K.close.apply(this,[])})}for(var t,r=J("rs_addtools"),n=0,o=r.length;n<o;n++)(t=r[n].querySelector(".rsbtn_tooltoggle"))&&(K.isLoaded=!0,K.loadCancel(),$rs.unregEvent(t,"click"),$rs.regEvent(t,"click",K.toggle),rspkr.Common.addEvent("onToolClicked",e),rspkr.Common.addEvent("onLangLoaded",function(){var e=$rs.arr(".rsbtn_tooltoggle");rspkr.Lang.updateUi(e)}))},open:function(e){rspkr.ui.Tools.accessibility.isAccessKey(e)&&(rspkr.ui.Tools.accessibility.storeSelection(),rspkr.c.addEvent("onAfterToolsOpen",function(){rspkr.ui.Tools.accessibility.restoreSelection(),rspkr.c.clearEvent("onAfterToolsOpen",rspkr.ui.Tools.accessibility.restoreSelection)}));var t,r=K.getPlayerContainer(this),e=$rs.findIn(r,".rsbtn_toolpanel");if(rspkr.ui&&rspkr.ui.Accessibility.escapes.menu(e),rspkr.ui&&rspkr.ui.Accessibility.escapes.dropdowns(),($rs.isArray(e)&&!e.length||void 0===e)&&rspkr.ui.addTools(),!(e=$rs.findIn(r,".rsbtn_toolpanel")))throw"Could not find menu!";rspkr.item("ui.toolbar.horizontal")&&!$rs.getAttr(e,"data-full-width")&&($rs.hasClass(r,"rsdetached")&&(r.style.width="1000px"),e.style.display="block",t=$rs.width($rs.findIn(e,".rsbtn_tools"))+5,e.style.display="",$rs.hasClass(r,"rsdetached")&&(r.style.width=""),$rs.setAttr(e,"data-full-width",t),e.style.width=t+"px",e.style.minWidth=t+"px"),rspkr.item("ui.toolbar.inverted")?(e.style.display="block",t=e.querySelector(".rsbtn_tools").clientHeight,e.style.removeProperty("display"),n=r.clientHeight,e.style.top=-1*(t+n+3)+"px"):e.style.removeProperty("top"),K.zoomTogglerIn.apply(this,[r]),$rs.hasClass(r,"toolsopen")||(rspkr.devt("onBeforeToolsOpen","__self__",[r]),$rs.addClass(r,"toolsopen"),rspkr.devt("onAfterToolsOpen","__self__",[r])),$rs.setAttr($rs.findIn(r,".rsbtn_tooltoggle"),"aria-expanded","true");var n=$rs.findIn(r,".rsbtn_tooltoggle");$rs.isArray(e)&&(e=e[0]),ge.getComputedStyle&&(r=document.defaultView.getComputedStyle(e).getPropertyValue("z-index"),$rs.css(n,"z-index",parseInt(r)+1));function o(){var e=this.querySelector(".rsbtn_tools");e.style.width="auto",this.style.width="700px",e=$rs.width(e)+10,this.style.minWidth=e+"px",this.style.width="auto"}rspkr.c.addEvent("onUiUpdated",o.bind(e)),o.bind(e)(),document.removeEventListener("click",K.close),document.addEventListener("click",K.close)},close:function(e){rspkr.ui.Tools.accessibility.isAccessKey(e)&&(rspkr.ui.Tools.accessibility.storeSelection(),rspkr.c.addEvent("onAfterToolsClose",function(){rspkr.ui.Tools.accessibility.restoreSelection(),rspkr.c.clearEvent("onAfterToolsClose",rspkr.ui.Tools.accessibility.restoreSelection)}));var t=K.getPlayerContainer(this)||document.querySelector("div.toolsopen"),e=$rs.findIn(t,".rsbtn_toolpanel");rspkr.devt("onBeforeToolsClose","__self__",[t]),$rs.removeClass(t,"toolsopen"),rspkr.devt("onAfterToolsClose","__self__",[t]),$rs.setAttr($rs.findIn(t,".rsbtn_tooltoggle"),"aria-expanded","false"),rspkr.ui.Accessibility.escapes.menu(e),rspkr.ui.Accessibility.escapes.langpicker(),document.removeEventListener("click",K.close)},toggle:function(e){rspkr.preventDefault(e),K.isLoaded&&($rs.hasClass(K.getPlayerContainer(this),"toolsopen")?K.close:K.open).apply(this,[e])},getPlayerContainer:function(e){return $rs.closest(e,rspkr.rsbtnClass(!0)+",.rs_addtools")},zoomTogglerIn:function(e){$rs.addClass(e,"zoom-tooltoggler")},zoomTogglerOut:function(e){$rs.removeClass(e,"zoom-tooltoggler")}},G=(h=39,b=m=30,{init:function(){if(rspkr.c.addEvent("onSelectedText",ue),rspkr.c.addEvent("onSelectedText",fe.bind(void 0,!0)),rspkr.c.addEvent("onDeselectedText",fe.bind(void 0,!1)),"complete"===document.readyState||"loaded"===document.readyState)for(var e=$rs.getReadingFrames(),t=0;t<e.length;t++)try{e[t].document.body.addEventListener("click",a)}catch(e){}else document.addEventListener("readystatechange",function(){if("complete"===document.readyState||"loaded"===document.readyState)for(var e=$rs.getReadingFrames(),t=0;t<e.length;t++)try{e[t].document.addEventListener("click",a)}catch(e){}});rspkr.log("[rspkr.Popup] Heartbeat!")},container:{popup:g,langpicker:void 0},lastSelectedText:void 0,newTextSelected:function(){return i},closePopup:a=function(e,t){g&&"none"!==g.style.display&&(!t&&(i||!g||e&&e.target&&function(e){var t=document;for(e&&(t=(t=e.ownerDocument)||(e.body?e:document));e&&e!==t.body;){if(/rspopup_translation/gi.test(e.className))return 1;e=e.parentElement}}(e.target))||($rs.css(g,"display","none"),ce()))},showPopup:ue}),J=function(e,t){t&&t.querySelectorAll||(t=document);var r="default"===B?"rsbtn":"rsbtn."+B.toLowerCase(),n=[];if(t.querySelectorAll)n=t.querySelectorAll("."+r+(e=e?",."+e:""));else{e=e?"|"+e+"\\b":"";for(var o=t.getElementsByTagName("div"),i=new RegExp(r+"\\b"+e,"i"),s=0,a=o.length;s<a;s++)o[s]&&o[s].className&&i.test(o[s].className)&&n.push(o[s])}return n},Z=function(e){if("string"!=typeof e)return{};for(var t,r={},n=e.split(/[;&]/),o=0;o<n.length;o++)(t=n[o].split("="))&&2===t.length&&(r[decodeURIComponent(t[0])]=decodeURIComponent(t[1]).replace(/\+/g," "));return r},Q=function(e,t,r){var n=new RegExp("([\\?&|&amp;]"+e+"=)[^&$]*","gi");return n.test(r)?r.replace(n,"$1"+t):r+"&"+e+"="+t},ee=function(e,t){if(t){e=new RegExp(e+"=([^&]*)","i"),e=t.match(e);return e&&e.length?e[1]:null}},te={isok:!0,executeCode:function(e){var t,r="jit"===e?D:_;if(this.isok=!0,!r.length)return!0;for(t in r)if(r.hasOwnProperty(t)&&"function"==typeof r[t])try{r[t].apply(ge,[])}catch(e){this.isok=!1,rspkr.log("[rspkr.q] "+e,3)}},flush:function(e){}},re={loadCss:function(n,o){function r(e){var t=document.createElement("link");t.id=n.id.replace(".","_"),t.type=n.type,t.rel="stylesheet",t.href=n.src+"?v="+o;var r=e.getElementById(n.id);r&&r.parentElement.removeChild(r),document.createStyleSheet&&document.documentMode&&document.documentMode<=8?document.createStyleSheet(t.href):(e.head||e.body).appendChild(t)}if(r(document),"complete"===document.readyState||"loaded"===document.readyState){if(ge.rspkr&&ge.rspkr.item&&rspkr.item("general.iframeReading")&&ge.$rs)for(var e=$rs.getReadingFrames(),t=0;t<e.length;t++)try{r(e[t].document)}catch(e){}}else document.addEventListener("readystatechange",function(){if(("complete"===document.readyState||"loaded"===document.readyState)&&ge.rspkr&&ge.rspkr.item&&rspkr.item("general.iframeReading")&&ge.$rs)for(var e=$rs.getReadingFrames(),t=0;t<e.length;t++)try{r(e[t].document)}catch(e){}})},load:function(e){var t,r,n,o="text/javascript",i="text/css";e.type!==o&&e.type!==i||(e.src=$.path+e.src,t=document.getElementsByTagName("head")[0],n=e.type===o?"script":"link",r=document.createElement(n),n=[l.major,l.minor,l.update,l.revision].join("."),"function"==typeof e.cb&&(void 0!==r.onreadystatechange?r.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||e.cb.apply(ge,[e.id])}:r.onload=function(){e.cb.apply(ge,[e.id])}),r.id=e.id.replace(".","_"),r.type=e.type,e.type===o?(r.src=e.src+"?v="+n,e.async&&(r.async=!0),t.appendChild(r)):e.type===i&&this.loadCss(e,n))},jsonpLoad:function(e){var t=document.createElement("script");t.id=e.id||"rsjsonploaded_"+ne(),t.src=e.src,t.async=!0,document.body.appendChild(t)}},ne=function(){return"readspeaker"+L++},oe=0,ie={1:[],2:[],3:[],4:[],5:[],6:[]},se=function(e,t){t=parseInt(t)||3;var r=ae[t].lbl;console.groupCollapsed&&console.groupCollapsed(r);for(var n=0;n<e.length;n++)try{console[ae[t].method]&&console[ae[t].method](e[n])}catch(e){}console.groupCollapsed&&console.groupEnd()},ae={1:{lbl:"Info",method:"log"},2:{lbl:"Warn",method:"warn"},3:{lbl:"Err",method:"error"},4:{lbl:"AS",method:"log"},5:{lbl:"SW",method:"log"}},le=function(e,t){var r=N;if(ie[t=t||1].push(e),r&&"string"==typeof r&&-1<r.indexOf(","+t+",")){r=ae[t].lbl;try{console[ae[t].method]&&console[ae[t].method](oe+++". "+r+": "+e)}catch(e){}}};function de(e){var t=rspkr.st&&rspkr.st.get&&rspkr.st.get("popupclosetime");if("-1"===String(t)||!t&&"-1"===String(rspkr.item("general.popupCloseTime")))return!1;e=e||ge,s||"function"!=typeof e.setTimeout||(t=rspkr.st&&rspkr.st.get("popupclosetime")||rspkr.item("general.popupCloseTime")||1e4,s=e.setTimeout(function(){a(void 0,!0)},t))}function ce(e){e=e&&e.window?e:ge,s&&(e.clearTimeout(s),s=null)}function ue(e,t){if(!rspkr.nofeatures()){var r=rspkr.features;if((r.popupplayback||r.dictionary||r.translation)&&!(rspkr.mobile()||rspkr.st&&"iconon"!==rspkr.st.get("hlicon")||"iconoff"===rspkr.item("settings.hlicon")))if(rspkr.findHref()&&(rspkr.getRSBtns().length||rspkr.findExpContainer())){for(var n,o=document,i=ge,s=e.originalEvent||e,a=["rslightbox_contentcontainer","rs_overlay","rsmask-top"],l=0;d=a[l];l++){var d=o.getElementById(d);if(d&&$rs.isVisible(d))return}$rs.closest(s.srcElement,".rs_skip_always")||(e=ge.getSelection(),(t=t||e.toString()).length&&($rs.isContentEditable(e.anchorNode)||$rs.isContentEditable(e.focusNode)||t===rspkr.popup.lastSelectedText&&$rs.isVisible(g)||(rspkr.popup.lastSelectedText=t,g&&((t=g.ownerDocument).isSameNode(o)||(n=t.defaultView||t.parentWindow,ce(n),g.parentNode&&g.parentNode.removeChild(g),g=void 0,n.getSelection().empty())),g&&g.parentNode||((g=o.createElement("div")).className="rspopup"+("default"!==B?" "+B:""),g.id="rsbtn_popup",n="",r.popupplayback&&(n+='<div class="rspopup_play rspopup_btn" role="button" tabindex="0" aria-label="%" data-rslang="title/arialabel:listen"><span data-rslang="content:listen">%</span></div>'.replace(/%/g,rspkr.getPhrase("d",rspkr.uiLang()))),rspkr.notools()||(r.dictionary&&(n+='<div class="rspopup_dictionary rspopup_btn" role="button" tabindex="0" aria-label="%" data-rslang="title/arialabel:dictionary"><span data-rslang="content:dictionary">%</span></div>'.replace(/%/g,rspkr.getPhrase("b",rspkr.uiLang()))),r.translation&&(n+='<div class="rspopup_translation rspopup_btn" role="button" tabindex="0" aria-label="%" data-rslang="title/arialabel:translation"><span data-rslang="content:translation">%</span></div>'.replace(/%/g,rspkr.getPhrase("a",rspkr.uiLang()))),r.dictionary&&(n+='<button tabindex="-1" accesskey="w" class="rsbtn_dictionary_focusforward" aria-hidden="true"><span class=""></span></button>'),r.translation&&(n+='<button tabindex="-1" accesskey="t" class="rsbtn_translation_focusforward" aria-hidden="true"><span class=""></span></button>')),g.innerHTML=n,rspkr.notools()||(rspkr.with.explorer()?(r.dictionary&&g.querySelector(".rsbtn_dictionary_focusforward").setAttribute("style","position: absolute; top: -10000px;"),r.translation&&g.querySelector(".rsbtn_translation_focusforward").setAttribute("style","position: absolute; top: -10000px;")):(r.dictionary&&(g.querySelector(".rsbtn_dictionary_focusforward").style="position: absolute; top: -10000px;"),r.translation&&(g.querySelector(".rsbtn_translation_focusforward").style="position: absolute; top: -10000px;"))),o.body.appendChild(g),h=$rs.outerWidth(g),m=$rs.outerHeight(g),document.querySelectorAll(".rspopup_btn").forEach(function(e){$rs.regEvent(e,"mousedown",function(e){rspkr.preventDefault(e)})}),r.popupplayback&&$rs.regEvent(g.querySelector(".rspopup_play"),"mouseup",function(e){pe(e,1)}),rspkr.notools()||(r.dictionary&&$rs.regEvent(g.querySelector(".rspopup_dictionary"),"mouseup",function(e){pe(e,3)}),r.translation&&$rs.regEvent(g.querySelector(".rspopup_translation"),"mouseup",function(e){pe(e,2)}),r.dictionary&&$rs.regEvent(g.querySelector(".rsbtn_dictionary_focusforward"),"click",function(e){g.querySelector(".rspopup_dictionary").focus(),pe(e,3)}),r.translation&&$rs.regEvent(g.querySelector(".rsbtn_translation_focusforward"),"click",function(){var e=document.createEvent("MouseEvents");e.initEvent("mouseup",!0,!0),g.querySelector(".rspopup_translation").dispatchEvent(e),g.querySelector(".rspopup_translation .rs-contextmenu a").focus()})),document.querySelectorAll(".rspopup_btn").forEach(function(e){$rs.regEvent(e,"keydown",function(e){13!==e.originalEvent.which&&32!==e.originalEvent.which||(rspkr.preventDefault(e),(e=document.createEvent("MouseEvents")).initEvent("mouseup",!0,!0),this.dispatchEvent(e))})}),rspkr.Lang&&rspkr.Lang.updateUi(g),rspkr.popup.container.popup=g),s=function(e,t){t=t||document;var r={},n=(rspkr.ui||ge.ReadSpeaker.ds).pointerX,o=(rspkr.ui||ge.ReadSpeaker.ds).pointerY,i=(e.target===t?t:t=e.target.ownerDocument).defaultView,s=e.clientX||e.pageX||n,n=e.clientY||e.pageY||o,a={x:0,y:0};if(i.rspkr)a.x=$rs.scrollLeft(document),a.y=$rs.scrollTop(document);else for(s=e.pageX,n=e.pageY;!i.rspkr;){var l=$rs.offset(i.frameElement,!1);a.x+=l.left-$rs.scrollLeft(i.document),a.y+=l.top-$rs.scrollTop(i.document),i=i.parent}return s+=a.x,o<(n+=a.y)||/OPR\//gi.test(navigator.userAgent)?n-$rs.scrollTop(t)+m>$rs.height(ge)-(m+10)?r.top=n-(m+b):r.top=n+b:n-$rs.scrollTop(document)-(m+b)<10?r.top=n+b:r.top=n-(m+b/2),s-$rs.scrollLeft(t)<10?r.left=s+10:s-$rs.scrollLeft(t)>$rs.width(ge)-(h+10)?r.left=$rs.width(ge)+$rs.scrollLeft(t)-(h+10):r.left=s+0,r}(s,o),$rs.css(g,{left:s.left+"px",top:s.top+"px",zIndex:rspkr.u?rspkr.ui.utils.getMaxZ(!0)+10:1e3}),rspkr.popup.container.langpicker&&rspkr.popup.container.langpicker.close(),$rs.css(g,"display","block"),ce(i),de(i),$rs.regEvent(g,"mouseover",ce.bind(void 0,i)),$rs.regEvent(g,"mouseout",de.bind(void 0,i)),i=Array.prototype.slice.call(g.querySelectorAll(".rspopup_btn")),$rs.regEvent(i,"focus",ce),$rs.regEvent(i,"blur",de),!rspkr.with.firefox()&&!rspkr.with.safari()&&$rs.isVisible(g)&&$rs.isWithinViewport(g)&&((i=$rs.createElm("div",{attributes:{tabindex:0,style:"position:absolute;width:0;height:0;outline:0;"}})).addEventListener("blur",function(){this.parentElement.removeChild(this)}),g.insertBefore(i,g.firstChild),i.focus()))))}else rspkr.log("[showPopup] No href. Aborting popup.",3)}}function pe(e,t){if(rspkr.preventDefault(e),rspkr.pl)rspkr.popup.runPopup(e,g,t);else{if(rspkr.item("general.confirmPolicy")&&!confirm(rspkr.item("general.confirmPolicy")))return a(),0;rspkr.loadCore(),_.push(function(){rspkr.popup.runPopup(e,g,t)})}}function fe(e){i=!!e||void 0}return Object.size=function(e){var t,r=0;for(t in e)e.hasOwnProperty(t)&&r++;return r},function(){var e;1===(e=(r=ge.rsConf&&ge.rsConf.params&&"string"==typeof ge.rsConf.params?ge.rsConf.params:(t=!(t=document.getElementById("rs_req_Init"))?(e=document.getElementsByTagName("script"))[e.length-1]:t).getAttribute("src")).split("?")).length&&e.push("pids=wr"),M=r.replace(/[^\/]*$/,""),N=function(){var t;if(/rsdebug=rsdebug/i.test(document.location.href))try{t=","+document.location.href.split("?").pop().match(/rsdebug=rsdebug([^$|&]*)/i).pop()+","}catch(e){t=",3,"}else t="";return t}();var t=Z(e[1]),r=Z(e[1]);if(B=($=t).skin||"default",T=t.pids.split(","),$.path=e[0].replace(/webReader\.js|ReadSpeaker\.js/i,""),$.mobile=!(!$.mobile||"1"!==$.mobile),$.forceAdapter=$.forceAdapter||!1,"wr30skin"===B&&($.forceAdapter="html5"),"0"!==r.mobile&&/ios|iphone|ipad|ipod|android/i.test(navigator.userAgent)&&(!$.mmax||ge.innerWidth<($.mmax||768))&&($.mobile=!0),$.mobile?(H="-Mobile",W.push("rs_mobile"),k["Mobile-"+c().toLowerCase()]=["lib.Facade","Common","modmap","PlayerAPI","Lang","HL","HL.css","Common.Settings","ui","ui.AutoScroll","ui.Slider","ui.Tools","ui.Lightbox","Mobile.Common","pub.Config"]):k.Core=["lib.Facade","Common","modmap","PlayerAPI","Lang","HL","HL.css","Common.Settings","ui","ui.AutoScroll","ui.Slider","ui.Lightbox","ui.DragDrop","ui.Tools","ui.Detach","ui.ControlPanel","ui.Accessibility","ui.LoadIndicator","pub.Config"],j=$.autoplay,z=ge.ReadSpeakerJIT="0"!==$.jit,$.notools&&"1"===$.notools||$.nofeatures&&"1"===$.nofeatures||D.push(K.toggler.add),$.noDefaultSkin&&"1"===$.noDefaultSkin||re.load({id:"rsmod_Styles",type:"text/css",src:v+y+".Styles"+(z?"-Button":"")+".css",cb:null}),"default"!==B&&(D.push(f),re.load({id:"rsskin_"+B+"_style",type:"text/css",src:"skins/"+B+"/"+B+".css",cb:null}),re.load({id:"rsskin_"+B+"_js",type:"text/javascript",src:"skins/"+B+"/"+B+".js",cb:null,async:!0})),$.dload&&$.dload.length)for(var n,o=$.dload.split(","),i=0;n=o[i];i++){var s="customCss"===n;re.load({id:"rsdloaded_"+ne(),type:s?"text/css":"text/javascript",src:y+"."+(s?"Custom.css":n+".js"),cb:null})}if($.revdload&&$.revdload.length)for(var a,l=$.revdload.split(","),d=0;a=l[d];d++)re.load({id:"rsdloaded_"+ne(),type:"text/javascript",src:v+y+"."+a+".js",cb:null});W.length&&D.push(u),z&&"1"!==function(e){var t,r=e+"=";try{t=document.cookie.split(";")}catch(e){return}for(var n=0;n<t.length;n++){for(var o=t[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(r))return o.substring(r.length,o.length)}return}("_rspkrLoadCore")||/combined/i.test($.pids)||p()}(),new function(){this.meta={obj:l,version:[l.major,l.minor,l.update].join(".")+"_rev"+l.revision+"-"+l.prod},this.q=function(e){"function"==typeof e&&(I.onReady?e.apply(ge,[]):_.push(e))},this.p=function(e){"function"==typeof e&&(F?e.apply(ge,[]):D.push(e))},this.loadInit=function(){document.readyState&&"loading"===document.readyState?setTimeout(function(){rspkr.log("[rspkr.loadInit] Postponing myself for 100 ms, DOM is not ready yet."),rspkr.loadInit()},100):R||(R=!0,document.addEventListener&&document.removeEventListener("DOMContentLoaded",ge.ReadSpeaker.init,!1),x=!0,ge.ReadSpeaker.Common&&ge.ReadSpeaker.Common.dispatchEvent("onDOMReady"),le("[rspkr] DOM Ready!"),this.q(function(){rspkr.Common.data.setRegion(),rspkr.Common.data.setWrapiUrl()}),K.afterLoad())},this.init=function(){rspkr.pub.Config.init(),rspkr.disp.executeCode("jit"),rspkr.disp.flush("jit"),ge.ReadSpeakerJIT||rspkr.loadInit(),rspkr.DeferSelection.init(),rspkr.addToggler();for(var e=rspkr.getRSBtns(),t=0;t<e.length;t++){var r,n=e[t].querySelector(".rsbtn_play");n&&(n.setAttribute("role","button"),r="ReadSpeaker webReader: "+rspkr.getPhrase("e",rspkr.uiLang()),n.hasAttribute("aria-label")||n.hasAttribute("aria-describedby")||n.setAttribute("aria-label",r),n.hasAttribute("title")||n.setAttribute("title",r),n.addEventListener("keydown",function(e){32===e.which&&(this.click(),e.preventDefault())}),0===t&&$rs.createElm("button",{content:"Focus",cls:"rsbtn_focusforward",attributes:{style:"position: absolute; top: -10000px;",tabindex:"-1",accesskey:"k","aria-hidden":!0},click:function(){var e=this.parentElement.querySelector(".rsbtn_play");e&&e.focus()},parent:e[0]}),(r=rspkr.item("ui.zIndexPlayer"))&&1!==r&&(e[t].style.zIndex=r),(r=e[t].querySelector(".rsbtn_text"))&&r.setAttribute("aria-hidden",!0),n.setAttribute("data-rs-tooltip","."),n.setAttribute("data-rs-direction","u"),e[t].classList.add(rspkr.rsbtnClass()))}var o=rspkr.item("ui.zIndexCustom.selector");o&&"."!==o&&document.querySelectorAll(o).forEach(function(e){e.style.zIndex=rspkr.item("ui.zIndexCustom.value")}),rspkr.with.explorer()&&(document.body.className+=" rs-ie"),F=!0},this.createAudio=function(){if(ge.rspkr.audio||!rspkr.mobile())return!1;if("html5"===c())this.createHTML5Audio();else{if("webAudio"!==c())return!1;this.createWebAudio()}return!0},this.createHTML5Audio=function(){return/safari/i.test(ge.navigator.userAgent)&&rspkr.mobile()||(ge.rspkr.audio=new Audio,ge.rspkr.audio.muted=!0,ge.rspkr.audio.load()),!0},this.createWebAudio=function(){ge.rspkr.audio=new(ge.AudioContext||ge.webkitAudioContext),ge.rspkr.audio.resume().then(function(){ge.rspkr.audio.suspend().then(function(){})})},this.addToggler=K.toggler.add,this.getLoadedMods=function(){return A},this.rsidCount=1e3,this.logcount=0,this.log=function(e,t){le(e,t||1)},this.showLog=function(e){!function(e){rspkr.log("[rspkr.printErrorLog]",1);for(var t=(e=e||"3").split(","),r=0;r<t.length;r++)ie.hasOwnProperty(t[r])&&se(ie[t[r]],t[r])}(e||"1")},this.getID=function(){return ne()},this.getVersion=function(){return this.meta.version},this.skin=B,this.disp=te,this.displog=I,this.params=$,this.extractParams=Z,this.setParam=Q,this.getParam=ee,this.setDebugLevel=o,this.baseUrl=M,this.loadCore=p,this.audio=null,this.getRSBtns=J,this.findHref=e,this.findExpContainer=t,this.rsbtnClass=n,this.rsload=re,this.rootNS=y,this.revPath=v,this.tools=K,this.popup=G,this.requestBlocker=new function(){var t=!1,r="";this.isEnabled=function(){return t},this.blockRequests=function(e){t=!0,r=e||""},this.reset=function(){r="",t=!1},this.getReason=function(){return r}},this.notools=function(){return rspkr.nofeatures()||$.notools&&"1"===$.notools},this.nofeatures=function(){return $.nofeatures&&"1"===$.nofeatures},this.mobile=function(){return $.mobile&&!0===$.mobile},this.preventDefault=function(e){(e=e||ge.event)&&((e=e.originalEvent?e.originalEvent:e).cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},this.runtime={}}}();ge.ReadSpeaker=ge.rs=ge.rspkr=e}(window),ReadSpeaker.enums={mime:{tjs:"text/javascript",tcss:"text/css",thtml:"text/html"}},ReadSpeaker.Util={addLeadingZero:function(e){return e<10?"0"+e:e.toString()},convertTime:function(e){e/=1e3;var t=parseInt(e%60),r=parseInt(e/60%60),e=parseInt(e/60/60%60);return this.addLeadingZero(e)+":"+this.addLeadingZero(r)+":"+this.addLeadingZero(t)},explodeTitle:function(e,t,r){e=$rs.createElm("div",{content:e.nodeName?e.outerHTML:e});$rs.isArray(r)||(r=r.split(","));for(var n,o=e.querySelectorAll(t),i=0;n=o[i];i++)if(n&&n.parentElement)for(var s=0;a=r[s];s++)if(n.hasAttribute(a)){var a=document.createTextNode(n.getAttribute(a));n.parentNode.replaceChild(a,n);break}return e.innerHTML},randomString:function(){return(+new Date*Math.random()).toString(36).substring(0,8)}},"function"!=typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.msMatchesSelector),"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var r=0;r<this.length;r++)e.call(t,this[r],r,this)}),ReadSpeaker.phrases=["0a%D8%A7%D9%84%D9%82%D8%A7%D9%85%D9%88%D8%B3","0b%D8%A7%D9%84%D8%A8%D8%AD%D8%AB%20%D8%B9%D9%86%20%D9%83%D9%84%D9%85%D8%A9","0c%D9%82%D8%A7%D8%A6%D9%85%D8%A9%20webReader","0d%D8%A7%D8%B3%D8%AA%D9%85%D8%B9","0e%D8%A7%D9%84%D8%A5%D8%B3%D8%AA%D9%85%D8%A7%D8%B9%20%D9%85%D8%B9%20%D9%88%D9%8A%D8%A8%D8%B1%D9%8A%D8%AF%D8%B1","1aTraducci%C3%B3","1bDiccionari","1cMen%C3%BA%20webReader","1dEscoltar","1eEscoltar%20amb%20webReader","2aOvers%C3%A6t","2bOrdbog","2cwebReader%20menu","2dAflyt","2eAflyt%20med%20webReader","3a%C3%9Cbersetzung","3bW%C3%B6rterbuch","3cwebReader-Men%C3%BC","3dVorlesen","3eMit%20webReader%20vorlesen%20lassen","4a@6a","4b@6b","4c@6c","4d@6d","4e@6e","5a@6a","5b@6b","5c@6c","5d@6d","5e@6e","6aTranslate","6bDictionary","6cwebReader%20Menu","6dListen","6eListen%20with%20webReader","7a@9a","7b@9b","7c@9c","7d@9d","7e@9e","8a@9a","8b@9b","8c@9c","8d@9d","8e@9e","9aTraducci%C3%B3n","9bDiccionario","9cMen%C3%BA%20de%20webReader","9dEscuchar","9eEscuchar%20con%20webReader","10a@9a","10b@9b","10c@9c","10d@9d","10e@9e","11a@9a","11b@9b","11c@9c","11d@9d","11e@9e","12aItzulpena","12bHiztegia","12cwebReader%20menua","12dEntzun","12eEntzun%20webReader-ekin","13aK%C3%A4%C3%A4nn%C3%B6s","13bSanakirja","13cwebReader-valikko","13dKuuntele","13eKuuntele%20WebReaderill%C3%A4","14aUmseting","14bOr%C3%B0ab%C3%B3k","14cmeni%20webReader","14dLurta","14eLurta%20vi%C3%B0%20webReader","15a@17a","15b@17b","15c@17c","15d@17d","15e@17e","16a@17a","16b@17b","16c@17c","16d@17d","16e@17e","17aTraduction","17bDictionnaire","17cMenu%20webReader","17dEcouter","17eEcoutez%20avec%20webReader","18aTraduci%C3%B3n","18bDicionario","18cmen%C3%BA%20webReader","18dEscoitar","18eEscoitar%20con%20webReader","19a%C3%9E%C3%BD%C3%B0ing","19bOr%C3%B0ab%C3%B3k","19cwebReader%20valmynd","19dHlusta","19eHlusta%20me%C3%B0%20webReader","20aTraduzione","20bDizionario","20cMenu%20webReader","20dAscolta","20eAscolta%20con%20webReader","21a%E7%BF%BB%E8%A8%B3","21b%E8%BE%9E%E6%9B%B8","21cwebReader%20%E3%83%A1%E3%83%8B%E3%83%A5%E3%83%BC","21d%E8%AA%AD%E3%81%BF%E4%B8%8A%E3%81%92%E3%82%8B","21ewebReader%E3%81%A7%E8%81%B4%E3%81%8F","22a%EB%B2%88%EC%97%AD","22b%EC%82%AC%EC%A0%84","22cwebReader%20%EB%A9%94%EB%89%B4","22d%EC%9D%BD%EA%B8%B0","22ewebReader%EB%A1%9C%20%EB%93%A3%EA%B8%B0","23aTulkojums","23bV%C4%81rdn%C4%ABca","23cwebReader%20izv%C4%93lne","23dKlaus%C4%ABties","23eKlaus%C4%ABties%20ar%20webReader","24a@25a","24b@25b","24c@25c","24d@25d","24e@25e","25aVertalen","25bWoordenboek","25cwebReader%20menu","25dLees%20voor","25eLuister%20met%20webReader","26aOversettelse","26bOrdbok","26cwebReader-menyen","26dLytt","26eLytt%20med%20webReader","27aT%C5%82umaczenie","27bS%C5%82ownik","27cMenu%20webReader","27dPos%C5%82uchaj","27ePos%C5%82uchaj%20z%20webReaderem","28a@29a","28b@29b","28c@29c","28d@29d","28e@29e","29aTradu%C3%A7%C3%A3o","29bDicion%C3%A1rio","29cMenu%20webReader","29dOuvir","29eOuvir%20com%20o%20webReader","30a@31a","30b@31b","30c@31c","30d@31d","30e@31e","31a%C3%96vers%C3%A4ttning","31bOrdbok","31cwebReaders%20meny","31dLyssna","31eLyssna%20med%20webReader","32a%E7%BF%BB%E8%AF%91","32b%E8%AF%8D%E5%85%B8","32cwebReader%20menu","32d%E6%9C%97%E8%AF%BB","32e%E4%BD%BF%E7%94%A8%20webReader%20%E6%94%B6%E5%90%AC","33a%E7%BF%BB%E8%AD%AF","33b%E5%AD%97%E5%85%B8","33cwebReader%20menu","33d%E8%AA%9E%E9%9F%B3%E7%80%8F%E8%A6%BD","33e%E9%80%8F%E9%81%8E%2520webReader%2520%E8%AA%9E%E9%9F%B3%E7%80%8F%E8%A6%BD","34a@6a","34b@6b","34c@6c","34d@6d","34e@6e","35a%D0%9F%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%B4","35b%D0%A1%D0%BB%D0%BE%D0%B2%D0%BD%D0%B8%D0%BA","35c%D0%9C%D0%B5%D0%BD%D1%8E%20webReader","35d%D0%A1%D0%BB%D1%83%D1%85%D0%B0%D1%82%D0%B8","35e%D0%A1%D0%BB%D1%83%D1%85%D0%B0%D1%82%D0%B8%20%D0%B7%D0%B0%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BC%D0%BE%D0%B3%D0%BE%D1%8E%20webReader"],ReadSpeaker.uiLang=function(){return rspkr.Lang?(delete rspkr.preloadUiLang,rspkr.Lang.getUiLang()):rspkr.preloadUiLang||(rspkr.preloadUiLang=rspkr.item("general.uiLang")||rspkr.getParam("uilang",rspkr.findHref())||rspkr.getParam("lang",rspkr.findHref())||rspkr.item("general.fallbacklang",rspkr.findHref())||"en_us",rspkr.preloadUiLang)},ReadSpeaker.mapLang=function(e){var t="ar_ar,ca_es,da_dk,de_de,en_au,en_uk,en_us,es_419,es_co,es_es,es_mx,es_us,eu_es,fi_fi,fo_fo,fr_be,fr_ca,fr_fr,gl_es,is_is,it_it,ja_jp,ko_kr,lv_lv,nl_be,nl_nl,no_nb,pl_pl,pt_br,pt_pt,sv_fi,sv_se,zh_cn,zh_tw,en_sc,uk_ua".split(",");if(isNaN(e)){e=e.replace("-","_").toLowerCase();for(var r,n=0;r=t[n];n++)if(e===r||2===e.length&&r.substring(0,2)===e)return n;return this.mapLang(rspkr.item("general.fallbacklang")||"en_us")}return t[e]},ReadSpeaker.mapPhrase=function(e){for(var t,r=["translation","dictionary","menu","listen","listenwebreader"],n=["a","b","c","d","e"],o=1<e.length?r:n,i=0;t=o[i];i++)if(t===e)return(1<e.length?n:r)[i]},ReadSpeaker.getPhrase=function(e,t,r){if(e){if(ReadSpeaker.Lang&&!r)return isNaN(t)||(t=this.mapLang(t)),1===e.length&&"*"!==e&&(e=this.mapPhrase(e)),ReadSpeaker.Lang.getPhrase(e);t=t||rspkr.item("general.fallbacklang")||"en_us";for(var n,o=(t=isNaN(t)?this.mapLang(t):t)+(e=1<e.length?this.mapPhrase(e):e),i=0;n=rspkr.phrases[i];i++){if(n.substring(0,o.length+1)===o+"@"){var s=n.substring(o.length+1),a=String(parseInt(s)),s=s.substring(a.length);return rspkr.getPhrase(s,a,r)}if(n.substring(0,o.length)===o)return decodeURIComponent(n.substring(o.length))}}else;},ReadSpeaker.pub={Config:function(){function a(e,t){var r=[];return"."!==e&&(r=e.split(".")),u(t,r,0)}function r(){function e(e){return e="scrollcontrols"===(e="simpleview"===(e="lookup"===e?"dictionary":e)?"textmode":e)?"controlpanel":e}var t=window.ReadSpeaker,r=t.params,n=r&&"1"===r.notools;t.features={banner:!0,clicklisten:!0,controlpanel:!0,controlpanel_pause:!0,controlpanel_skip:!0,controlpanel_scroll:!0,controlpanel_close:!0,detachment:!1,dictionary:!n,dictionary_toolbar:!1,download:!0,download_player:!1,enlarge:!0,help:!0,loaderplayer:!0,loaderscreen:!0,pagemask:!0,popupplayback:!0,progressbar:!0,seekbar:!1,settings:!0,skipbuttons:!0,speedbutton:!0,textmode:!0,tooltips:!0,translation:!n,translation_toolbar:!1,voicesettings:!1};for(var o=[],i=r.disable?r.disable.split(","):[],s=0;s<i.length;s++){var a=e(i[s]);t.features[a]=!1,o.push(a)}if(r.enable)for(var l=r.enable.split(","),d=0;d<l.length;d++){var c=e(l[d]);t.features[c]=!0,o.push(c)}var u,p,f=window.rsConf&&window.rsConf.ui&&window.rsConf.ui.tools?window.rsConf.ui.tools:{};for(u in f)f.hasOwnProperty(u)&&(p=e(u),t.features[p]=f[u],o.push(p));t.features.dictionary&&(t.features.dictionary_toolbar=!1),t.features.translation&&(t.features.translation_toolbar=!1),t.features.download&&(t.features.download_player=!1),!1===g("ui.displayDownload")&&(t.features.download=!1)&&(t.features.download_player=!1),!0===g("ui.enableDetachment")&&(t.features.detachment=!0),!0===g("ui.disableDetachment")&&(t.features.detachment=!1),rspkr.features.overriden=o}function e(){rspkr.pub&&rspkr.pub.Config&&(rspkr.pub.c=rspkr.pub.Config),rspkr.pub.c&&(rspkr.cfg=rspkr.pub.c),rspkr.item=rspkr.cfg.item,"object"==typeof window.rsConf&&p(window.rsConf),rspkr.params.mode&&rspkr.item("mode."+rspkr.params.mode)&&p(rspkr.item("mode."+rspkr.params.mode)),!0===g("general.iframeReading")&&$rs.iframesPresent(document)&&n("general.usePost",!0),r();var e,t=rspkr.item("ui.tools");for(e in t)t.hasOwnProperty(e)&&-1===rspkr.features.overriden.indexOf(e)&&(rspkr.features[e]=t[e])}var t=!1,l={},d={extraMods:{},mode:{},general:{chunkLimit:1000,cookieLifetime:360000000,cookieName:"ReadSpeakerSettings",cookieDomain:null,cookiePath:"/",defaultSpeedValue:100,domain:"readspeaker.com",popupCloseTime:10000,protocol:"https:",proxyVersion:"2",region:"eu",rsent:"rsent",subdomain:"app",syncContainer:"default",usePost:false,sentOnlyLang:["ja_jp","zh_cn"],popupHref:"",parseMathJax:!1,enableMathReading:false,enableSkipAlways:false,preserveElements:".rs_preserve",noCookie:false,readidOrder:false,searchLang:true,iframeReading:false,disableTextNodeHL:false,skipHiddenContent:false,readingLangs:{ar_ar:{voice:'Amir',phrase:'ph_ar_ar'},fa_ir:{voice:'Female1',phrase:'ph_fa_ir'},sv_se:{voice:'Maja',phrase:'ph_sv_se'},tr_tr:{voice:'Ozan',phrase:'ph_tr_tr'},en_uk:{voice:'Alice',phrase:'ph_en_uk'}},disableJSON:false,translationProvider:"google",translationLimit:5e3,translationCleanup:"true",shadowDomSelector:" ",directDownload:false,transLangs:{ar_ar:"trans_ar_ar",da_dk:"trans_da_dk",de_de:"trans_de_de",el_gr:"trans_el_gr",en:"trans_en",es_es:"trans_es_es",fi_fi:"trans_fi_fi",fr_fr:"trans_fr_fr",it_it:"trans_it_it",ja_jp:"trans_ja_jp",lv_lv:"trans_lv_lv",ko_kr:"trans_ko_kr",nl_nl:"trans_nl_nl",no_nb:"trans_no_nb",pl_pl:"trans_pl_pl",pt_pt:"trans_pt_pt",pt_br:"trans_pt_br",ru_ru:"trans_ru_ru",sv_se:"trans_sv_se",tr_tr:"trans_tr_tr",uk_ua:"trans_uk_ua",zh_cn:"trans_zh_cn"},fontSizes:{min:.8,max:2.4,increment:.2}},settings:{enlargebghl:"bghlon",fontface:"sansserif",hltoggle:"hlon",hl:"wordsent",hlicon:"iconon",hlspeed:100,hlword:"#a4cbff",hlsent:"#beffd6",hlscroll:"scrollon",hltext:"#000000",popupclose:"true",popupclosetime:10000,lbfontsize:"1.0",textstyle:"blackwhite",textspacing:"0",langvoice:"",fr:"froff"},fontmap:{serif:'"Times New Roman", Times, serif',sansserif:"Arial, Helvetica, sans-serif",opensans:"Arial, Helvetica, sans-serif",cursive:'"Comic Sans", "Comic Sans MS", cursive',monospace:'"Courier New", Courier, monospace',dyslexic:'"Open Dyslexic"'},textstyles:{blackyellow:"#000000,#ffffcc",blackwhite:"#000000,#ffffff",blackblue:"#000000,#a4cbff",blackpink:"#000000,#fbd0e4",redyellow:"#ff0000,#ffffcc",redwhite:"#ff0000,#ffffff",redblue:"#ff0000,#a4cbff",blueyellow:"#0000ff,#ffffcc",bluewhite:"#0000ff,#ffffff",bluepink:"#0000ff,#fbd0e4",yellowblack:"#ffff00,#000000",blueblack:"#a4cbff,#000000"},textspacings:{s0:{letterspacing:"0em",wordspacing:"0em",lineheight:"1.2"},s1:{letterspacing:"0.06em",wordspacing:"0.08em",lineheight:"1.35"},s2:{letterspacing:"0.12em",wordspacing:"0.16em",lineheight:"1.5"},s3:{letterspacing:"0.18em",wordspacing:"0.24em",lineheight:"1.65"},s4:{letterspacing:"0.24em",wordspacing:"0.32em",lineheight:"1.8"}},ui:{autoscrollOffset:0,preventLightboxResize:false,clickListenExclude:".rs_clicklistenexclude",toolbar:{horizontal:false,inverted:false},tooltoggler:{big:true},tools:{banner:true,clicklisten:true,detachment:false,dictionary:true,download:true,enlarge:true,help:true,pagemask:true,popupplayback:true,progressbar:true,controlpanel:true,settings:true,skipbuttons:true,speedbutton:true,textmode:true,translation:true,voicesettings:false},zIndexPlayer:1,zIndexToolPanel:1,zIndexCustom:{selector:".",value:1}},cb:{ui:{open:function(){rspkr.log("conf.cb.ui.open: "+this)},play:function(){rspkr.log("conf.cb.ui.play")},pause:function(){rspkr.log("conf.cb.ui.pause")},stop:function(){rspkr.log("conf.cb.ui.stop")},beforeclose:function(){rspkr.log("conf.cb.ui.beforeclose")},close:function(){rspkr.log("conf.cb.ui.close")},settingsopened:function(){rspkr.log(this)},volumechanged:function(e){rspkr.log("conf.cb.ui.volumechanged: "+e+"%")},timeupdated:function(e,t){rspkr.log("conf.cb.ui.timeupdated: "+e+" | "+t)},progresschanged:function(e){0<e&&e%10==0&&rspkr.log("conf.cb.ui.progresschanged: "+e+"%")}},chunking:{pause:void 0}}},c=function(e){var t,r=JSON.parse(JSON.stringify(e));for(t in e)e.hasOwnProperty(t)&&("object"==typeof e[t]&&0<Object.size(e[t])&&!$rs.isArray(e[t])?r[t]=c(e[t]):"function"==typeof e[t]&&(r[t]=e[t]));return r},g=function(e,t){var r,n=[];if("."!==e&&(n=e.split(".")),"object"==typeof(r=void 0===(r=a(e,l))?a(e,d):r)&&0<Object.size(r)&&!$rs.isArray(r)){e=u(d,n,0);if(e){e=c(e);return p(r,e),e}return r}if("function"!=typeof r||t)return r;t=c(d);p(l,t);var o=t;if(n.length){n.splice(n.length-1,1);for(var i=0,s=n.length;i<s&&o[n[i]];i++)o=o[n[i]];t=o}return r.apply(t)},n=function(e,t){e=e.split(".");return u(l,e,0,t)},u=function(e,t,r,n){if(0===t.length)return e;if(void 0!==e[t[r]])return r<t.length-1?u(e[t[r]],t,r+1,n):void 0===n?e[t[r]]:e[t[r]]=n;if(void 0!==n){var o,i;if(r<t.length-1)for(o=r,i=t.length;o<i-1;o++)e[t[o]]={},e=e[t[o]];else o=r;return e[t[o]]=n}},p=function(e,t){for(var r in t=t||l,e)e.hasOwnProperty(r)&&(void 0!==t[r]&&!$rs.isArray(t[r])&&"object"==typeof e[r]&&0<Object.size(e[r])&&!$rs.isArray(e[r])?!0===e[r].replace_obj?(delete e[r].replace_obj,t[r]=e[r]):p(e[r],t[r]):t[r]=e[r])};return{init:function(){return!t&&(e(),t=!0,rspkr.log("[rspkr.cfg] Initialized!"),!0)},item:function(e,t,r){return void 0===t?g(e,r):n(e,t)},default:function(e,t){return void 0===t?a(e,d):function(e,t){e=e.split(".");return u(d,e,0,t)}(e,t)},getSettingsConf:function(){return rspkr.st?rspkr.st.getSettingsConf():{}},c:d,mergeObj:p,mergeDefault:function(e){p(e,d)},setup:e}}()},window.ReadSpeaker.API=window.ReadSpeaker.api={callback:{enums:{UI:{BEFORECLOSE:"cb.ui.beforeclose",CLOSE:"cb.ui.close",OPEN:"cb.ui.open",PAUSE:"cb.ui.pause",PLAY:"cb.ui.play",PROGRESSCHANGED:"cb.ui.progresschanged",SETTINGSOPENED:"cb.ui.settingsopened",STOP:"cb.ui.stop",TIMEUPDATED:"cb.ui.timeupdated",VOLUMECHANGED:"cb.ui.volumechanged",DIALOG:{BEFOREOPEN:"cb.ui.dialog.beforeopen",OPEN:"cb.ui.dialog.open",CLOSE:"cb.ui.dialog.close"}},AUDIO:{DOWNLOAD:"cb.audio.download",LOADERROR:"cb.audio.loaderror",NOSOUND:"cb.audio.nosound",ENDED:"cb.audio.ended"}},execute:function(e,t,r){if(!e)throw"[rspkr.API.callback.execute] No callback name provided.";(r=r||[])&&!$rs.isArray(r)&&(r=[r]),"function"==typeof rspkr.item(e,void 0,!0)&&rspkr.item(e,void 0,!0).apply(t,r)}},tools:{Dictionary:{dictionary:function(e,t){if(!rspkr.ui)return rspkr.loadCore(),void rspkr.q(function(){rspkr.API.tools.dictionary(e,t)});rspkr.ui.Tools.Dictionary.dictionary(e,t)},supportedLanguages:function(){return["ar_ar","da_dk","de_de","en","ca_es","es","es_es","eu_es","gl_es","fi_fi","fr_fr","is_is","it_it","ja_jp","ko_kr","lv_lv","nl_nl","no_nb","pt","sv_se","zh_cn"].sort()}},Translation:{translate:function(e){if(!rspkr.ui)return rspkr.loadCore(),void rspkr.q(function(){rspkr.API.tools.translate(e)});rspkr.ui.Tools.Translation.translate(e)},supportedLanguages:function(){return Object.keys(rspkr.item("general.transLangs")).sort()}}}},rspkr.lib||(rspkr.lib={}),rspkr.lib.Facade=function(t){var a={store:[],push:function(e,t,r){return this.store[e]||(this.store[e]=[]),this.store[e][t]||(this.store[e][t]=[]),this.store[e][t].push(r),this.store.length},pop:function(e,t,r){var n;if(this.store[e]&&this.store[e][t]){if(n=this.store[e][t],!r)return this.store[e][t].splice(0,this.store[e][t].length),0;for(var o=n.length-1;-1<o;o--)n[o]&&n[o].toString()===r.toString()&&this.store[e][t].splice(o,1);return this.store[e][t].length}return 0},dispatch:function(e,t){var r=$rs.convertEvent(e,t);if(rsid=$rs.getAttr(r.target,"data-rsevent-id"),rsid){for(var n=!0,o=a.store[rsid][r.type],i=0,s=o.length;i<s;i++)"function"==typeof o[i]&&(o[i].apply(r.target,[r])||(n=!1));return n}}};return{eq:a,adapterInit:function(e){t.$rs=e}}}(window),ReadSpeaker.lib.Facade.RSEvent=function(){},ReadSpeaker.lib||(ReadSpeaker.lib={}),ReadSpeaker.lib.RSLib=function(){var t=function(){return/^-ms-/},r=function(){return/-([\da-z])/gi},o={_formatRet:function(e){return(e="[object NodeList]"===Object.prototype.toString.call(e)?Array.prototype.slice.call(e):e).length?1===e.length?(e[0].length&&"object"==typeof e[0]&&!e[0].tagName?e[0]:e)[0]:e:[]},get:function(t,e){if(t===document){var r=[document];return rspkr.shadowDOM&&rspkr.shadowDOM.active()&&rspkr.shadowDOM.getShadows().forEach(function(e){r.push(e.shadowRoot)}),this._formatRet(r)}if(!t||"#"===t)return[];if("object"==typeof t)return t;if((e||document).getElementById(t))return(e||document).getElementById(t);(t.match(/(#[0-9][^\s:,]*)/g)||[]).forEach(function(e){t=t.replace(e,'[id="'+e.replace("#","")+'"]')});var n=Array.prototype.slice.call((e||document).querySelectorAll(t));return rspkr.shadowDOM&&rspkr.shadowDOM.active()&&rspkr.shadowDOM.getShadows().forEach(function(e){n=n.concat(Array.prototype.slice.call(e.shadowRoot.querySelectorAll(t)))}),this._formatRet(n)},arr:function(e,t){t=this.get(e,t);return this.isArray(t)?t:[t]},getReadingFrames:function(e){var t=(e=e||window)?[e]:[];return rspkr.cfg&&!rspkr.cfg.item("general.iframeReading")||!rspkr.cfg&&window.rsConf&&window.rsConf.general&&!window.rsConf.general.iframeReading?t:o.getFrames(e)},getFrames:function(e){var t=e?[e]:[],r=[];e=e||window;try{r=$rs.findIn(e.document,"iframe, frame")}catch(e){rspkr.log("Error accessing document "+e,"3")}for(var r=$rs.isArray(r)?r:[r],n=0;n<r.length;n++)try{r[n].contentWindow.location.href&&(t=t.concat(o.getFrames(r[n].contentWindow)))}catch(e){rspkr.log("Error accessing document "+e,"3")}return t},iframesPresent:function(e){return!!(e||document).querySelector("iframe")},findIn:function(e,t){return!e||this.isArray(e)&&!e.length?[]:("string"==typeof(e=this.isArray(e)?e[0]:e)&&(e=this.get(e)),this._formatRet(e.querySelectorAll(t)))},closest:function(e,t){if(e){if((e="string"==typeof e?this.get(e):e).matches&&e.matches(t))return e;for(;e.parentElement;){if(e.parentElement.matches(t))return e.parentElement;e=e.parentElement}}},isChildOfParent:function(e,t){if(e&&t){if("string"==typeof t&&!(t=document.querySelector(t)))return!1;var r=e.ownerDocument;if(!r){if(/document$/i.test(e.nodeName))return!1;r=document}for(;e&&e!==r.parentNode;){if(e.isSameNode(t))return!0;e=e.parentNode}}return!1},getAttr:function(e,t){return"string"==typeof e&&(e=this.get(e)),"style"===t?e.style.cssText.toLowerCase()||void 0:e.getAttribute?e.getAttribute(t):e[t]||void 0},setAttr:function(e,t,r){"string"==typeof e&&(e=this.get(e));for(var n=0,o=(e=!this.isArray(e)?[e]:e).length;n<o;n++)"style"===t?e[n].style.cssText=r:e[n].setAttribute?e[n].setAttribute(t,r):e[n][t]=r;return r},regEvent:function(e,t,r){var n,o,i,s,a=t.split(" ");"string"==typeof e&&(e=this.get(e));for(var l=0,d=(e=!this.isArray(e)?[e]:e).length;l<d;l++)for(i=0,s=a.length;i<s;i++)t=a[i],o=e[l],n=this.getAttr(o,"data-rsevent-id")||"rs_"+Math.round(1e6*Math.random()),this.setAttr(o,"data-rsevent-id",n),c.push(n,t,r),c.store[n]&&c.store[n][t]&&1<c.store[n][t].length||e[l].addEventListener&&e[l].addEventListener(t,c.dispatch,!1)},unregEvent:function(e,t,r){if(e){var n,o,i,s=t.split(" ");"string"==typeof e&&(e=this.get(e));for(var a=0,l=(e=!this.isArray(e)?[e]:e).length;a<l;a++)for(o=0,i=s.length;o<i;o++)if(t=s[o],n=e[a],n=this.getAttr(n,"data-rsevent-id"),r)c.pop(n,t,r)||e[a].removeEventListener(t,c.dispatch,!1);else if(e[a].removeEventListener(t,c.dispatch,!1),n&&t&&c.store[n]){c.store[n][t]=void 0;try{delete c.store[n][t]}catch(e){}}}},width:function(e){return"string"==typeof e&&(e=this.get(e)),i(e,"width")},height:function(e){return"string"==typeof e&&(e=this.get(e)),i(e,"height")},outerWidth:function(e,t){if((e="string"==typeof e?this.get(e):e)&&e.style){t=t?parseFloat(d(e,"margin-left"))+parseFloat(d(e,"margin-right")):0;return i(e,"width")+t}return null},outerHeight:function(e,t){if((e="string"==typeof e?this.get(e):e)&&e.style){t=t?parseFloat(d(e,"margin-top"))+parseFloat(d(e,"margin-bottom")):0;return i(e,"height")+t}return null},offsetParent:function(e){for(var t=/absolute|relative|fixed/i,r=e="string"==typeof e?this.get(e):e;!(r===document.body||(r=r.parentNode).style&&t.test(d(r,"position"))););return r||document.body},offset:function(e){var t=(e="string"==typeof e?this.get(e):e).ownerDocument,r=t.body,n=t.defaultView||window,o=t.documentElement,i=t.createElement("div");if(e===t.body){var s=r.offsetTop,a=r.offsetLeft;return{top:s+=parseFloat(d(r,"marginTop"))||0,left:a+=parseFloat(d(r,"marginLeft"))||0}}i.style.paddingLeft=i.style.width="1px",r.appendChild(i);t=2===i.offsetWidth;r.removeChild(i);i=e.getBoundingClientRect(),s=o.clientTop||r.clientTop||0,a=o.clientLeft||r.clientLeft||0,e=n.pageYOffset||t&&o.scrollTop||r.scrollTop,r=n.pageXOffset||t&&o.scrollLeft||r.scrollLeft;return{top:i.top+e-s,left:i.left+r-a}},scrollLeft:function(e,t){return"string"==typeof e&&(e=this.get(e)),a("scrollLeft","pageXOffset",e,t)},scrollTop:function(e,t){return"string"==typeof e&&(e=this.get(e)),a("scrollTop","pageYOffset",e,t)},addClass:function(e,t){var r;"string"==typeof e&&(e=this.arr(e)),this.isArray(e)||(e=[e]),"."===t.charAt(0)&&(t=t.substr(1));for(var n=0,o=e.length;n<o;n++)e[n]&&!new RegExp("\\b"+t+"( |$)").test(e[n].className)&&(r=l(e[n].className+" "+t).replace(/ {2,}/g," ").split(" "),e[n].className=r.join(" "))},removeClass:function(e,t){if(e){"string"==typeof e&&(e=this.get(e));for(var r=0,n=(e=!this.isArray(e)?[e]:e).length;r<n;r++){for(var o=l(t).replace(/ {2,}/g," "),i=l(e[r].className),s=0,a=(o=!this.isArray(o)?o.split(" "):o).length;s<a;s++)"."===o[s].charAt(0)&&(o[s]=o[s].substr(1)),i=i.replace(new RegExp("\\b"+o[s]+"\\b","gi"),"");e[r].className=l(i).replace(/ {2,}/g," ")}}},hasClass:function(e,t){if(!(e="string"==typeof e?this.get(e):e)||this.isArray(e)&&!e.length||!e.hasAttribute||!e.hasAttribute("class"))return!1;for(var r=e.className.split(" "),n=0,o=r.length;n<o;n++)if("."===r[n].charAt(0)&&(r[n]=r[n].substr(1)),r[n]===t)return!0;return!1},css:function(e,t,r){if(e&&(!this.isArray(e)||e.length)){if("string"==typeof e&&(e=this.arr(e)),this.isArray(e)||(e=[e]),"object"!=typeof t&&void 0===r)return d(e[0],s(t));var n={};"string"==typeof t?n[s(t)]=r:n=t;for(var o=0;o<e.length;o++){for(var i in n)n.hasOwnProperty(i)&&(e[o].style[s(i)]=n[i]);e[o].hasAttribute("style")&&!e[o].getAttribute("style").length&&e[o].removeAttribute("style")}}},show:function(e){var t=this.getAttr(e,"data-rslib-prev-display")||"block";this.setAttr(e,"data-rslib-prev-display",""),this.css(e,"display",t)},hide:function(e){"string"==typeof e&&(e=this.get(e));var t=this.css(e,"display");"none"!==t&&(this.setAttr(e,"data-rslib-prev-display",t),this.css(e,"display","none"))},isVisible:function(e){for(;e!==document.body&&(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE);){if(!e)return!1;if("none"===this.css(e,"display"))return!1;if("hidden"===this.css(e,"visibility"))return!1;e=e.parentNode}return!0},isWithinViewport:function(e){e=e.getBoundingClientRect();return 0<=e.top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&0<=e.left&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},isContentEditable:function(e){if(!e)return!1;e=this.closest(e,"[contenteditable]");return!(!e||""!==e.contentEditable&&"true"!==e.contentEditable)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},arraySearch:function(e,t){for(var r=0;r<t.length;r++)if(-1!==e.indexOf(t[r]))return!0;return!1},rsid:function(e){var t;return this.getAttr(e,"data-rsid")||(t=ReadSpeaker.rsidCount++,this.setAttr(e,"data-rsid",t)),this.getAttr(e,"data-rsid")},detach:function(e){return e.parentNode.removeChild(e)},convertEvent:function(e,t){e=e||window.event;var r=new ReadSpeaker.lib.Facade.RSEvent;return r.pageX=e.pageX||e.clientX+$rs.scrollLeft(document),r.pageY=e.pageY||e.clientY+$rs.scrollTop(document),r.screenX=e.screenX,r.screenY=e.screenY,r.clientX=e.clientX,r.clientY=e.clientY,r.target=e.currentTarget||t,r.type=e.type,r.keyCode=e.keyCode,r.targetTouches=e.targetTouches,r.originalEvent=e,r},clone:function(e,t,r){return e.cloneNode(r=r||!1)},camel:function(e){return s(e)},remove:function(e){for(var t=this.arr(e),r=[],n=0,o=t.length;n<o;n++)t[n].parentElement&&t[n].parentElement.removeChild&&r.push(t[n].parentElement.removeChild(t[n]));return r||[]},focus:function(e){e=this.get(e),(e=this.isArray(e)&&e.length?e[0]:e).setActive&&e.setActive(),e.focus&&e.focus()},createElm:function(e,t){if(t=t||{},e&&"string"==typeof e){var r=document.createElement(e);if(t.cls&&(r.className=t.cls),t.id&&this.setAttr(r,"id",t.id),t.content&&"string"==typeof t.content&&(r.innerHTML=t.content),t.content&&t.content.nodeType&&r.appendChild(t.content),t.content&&t.content.forEach&&t.content.forEach(function(e){r.appendChild(e)}),t.href&&"string"==typeof t.href&&(r.href=t.href),t.click&&"function"==typeof t.click&&this.regEvent(r,"click",t.click),t.attributes&&"object"==typeof t.attributes)for(var n in t.attributes)t.attributes.hasOwnProperty(n)&&this.setAttr(r,n,t.attributes[n]);return t.parent&&t.parent.appendChild&&t.parent.appendChild(r),r}},flatten:function(e,t){t=t||[];for(var r,n=0;r=e[n];n++)$rs.isArray(r)?$rs.flatten(r,t):t.push(r);return t}},c=null,s=function(e){return e.replace(t(),"ms-").replace(r(),n)},n=function(e,t){return(t+"").toUpperCase()},l=function(e){return e.replace(/^ +/,"").replace(/ +$/,"")},d=function(e,t){return window.getComputedStyle(e,null)[s(t)]||!1},i=function(e,t){var r="width"===t?"Width":"Height";if(e!==window&&e!==document){var n=e["offset"+r];return!isNaN(n)&&n||(n=d(e,t)),isNaN(n),parseInt(n)}try{if(e===window)return window["inner"+r]||document.documentElement["client"+r]||document.body["client"+r];if(e===document)return document.body["client"+r]}catch(e){return rspkr.log("[RSLib._getSize] Error: "+e.message,3),0}},a=function(e,t,r,n){var o=/X/.test(t),i=(i=r)&&i===i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow);if(void 0===n)return i?t in i?i[t]:i.document.documentElement[e]||document&&document.body&&document.body[e]:r[e];i?i.scrollTo(o?$rs.scrollLeft(i):n,o?n:$rs.scrollTop(i)):r[e]=n};return{meta:{revision:"1975"},init:function(){c=ReadSpeaker.lib.Facade.eq,window.$rs=o,ReadSpeaker.log("[rspkr.l.RSLib] Initialized.")}}}(),ReadSpeaker.lib.RSLib.init(),function(e){var o,i,s,a,l,t=(o={browser:{name:"",version:"",OS:"",html5AudioFormat:"",html5Support:!1,html5Priority:!1,syncContainer:"",webAudioSupport:!1,fetchSupport:!1},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Chromium",identity:"Chromium"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",versionSearch:"Version",identity:"Safari"},{prop:e.opera,versionSearch:"Version",identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"MSIE",versionSearch:"MSIE",identity:"Explorer"},{test:function(){return/trident\//i.test(navigator.userAgent)&&!(!document.uniqueID&&!e.MSInputMethodContext)},versionSearch:"rv",identity:"Explorer"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Gecko",versionSearch:"rv",identity:"Mozilla"},{string:navigator.userAgent,subString:"Mozilla",versionSearch:"Mozilla",identity:"Netscape"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],browserSettings:{Android:{minver:4},Explorer:{syncContainer:"font"},Firefox:{minver:6},Opera:{html5Support:!1},Edge:{audioFormat:"mp3"}}},i=function(e){for(var t=0;t<e.length;t++){if(this.versionSearchString=e[t].versionSearch||e[t].identity,e[t].test&&e[t].test())return e[t].identity;var r=e[t].string,n=e[t].prop;if(r){if(-1!==r.indexOf(e[t].subString))return e[t].identity}else if(n)return e[t].identity}},s=function(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},a=function(){return"function"==typeof e.fetch},l=function(){return!(!e.AudioContext&&!e.webkitAudioContext)},new function(){this.init=r,this.info=o.browser});function r(){rspkr.log("[rspkr.br] Initialized!");var e=navigator.userAgent;o.browser.name=i(o.dataBrowser)||"Unknown",o.browser.version=s(e)||s(navigator.appVersion)||"Unknown",o.browser.OS=i(o.dataOS)||"Unknown";var t=o.browser.name;o.browserSettings.hasOwnProperty(o.browser.name)||(o.browserSettings[t]={});var r,n=rspkr.item("general.syncContainer");n&&n.length&&"default"!==n?o.browser.syncContainer=rspkr.pub.Config.item("general.syncContainer"):o.browserSettings[t].hasOwnProperty("syncContainer")?o.browser.syncContainer=o.browserSettings[t].syncContainer:o.browser.syncContainer="rs:span",o.browserSettings[t].hasOwnProperty("html5Support")?o.browser.html5Support=o.browserSettings[t].html5Support:document.createElement("audio").canPlayType&&(o.browser.html5Support=!0),!0===o.browser.html5Support&&(e=r=!1,(n=document.createElement("audio")).canPlayType&&(r=n.canPlayType("audio/mpeg"),e=n.canPlayType('audio/ogg; codecs="vorbis"')),rspkr.log("mp3 support? "+r,1),rspkr.log("ogg support? "+e,1),/android/i.test(o.browser.OS)&&r?o.browser.html5AudioFormat="mp3":/android/i.test(o.browser.OS)?o.browser.html5AudioFormat="ogg":""!==r?o.browser.html5AudioFormat="mp3":""!==e?o.browser.html5AudioFormat="ogg":o.browser.html5Support=!1,o.browserSettings[t].hasOwnProperty("html5Priority")?o.browser.html5Priority=o.browserSettings[t].priority:o.browser.html5Priority=!0,o.browserSettings[t].hasOwnProperty("audioFormat")&&(o.browser.html5AudioFormat=o.browserSettings[t].audioFormat)),o.browserSettings[t].hasOwnProperty("minver")&&parseFloat(o.browser.version)<=parseFloat(o.browserSettings[t].minver)&&(o.browser.html5Priority=!1),o.browser.webAudioSupport=l(),o.browser.fetchSupport=a()}e.ReadSpeaker.Browser=e.ReadSpeaker.br=t}(window),function(e){e.ReadSpeaker.with={explorer:function(){return!!e.document.documentMode},edge:function(){return navigator.userAgentData&&navigator.userAgentData.brands.some(function(e){return"Microsoft Edge"===e.brand})||-1<e.navigator.userAgent.indexOf("Edg")},firefox:function(){return"netscape"in e&&/rv:/.test(navigator.userAgent)},safari:function(){return!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)},chrome:function(){return navigator.userAgentData&&navigator.userAgentData.brands.some(function(e){return"Google Chrome"===e.brand})||/CriOS/i.test(navigator.userAgent)||!(!navigator.vendor||!navigator.vendor.match(/google/i)||this.edge()||this.opera())},opera:function(){return!(!navigator.userAgentData||!navigator.userAgentData.brands.some(function(e){return"Opera"===e.brand}))},iphone:function(){return"iPhone"===navigator.platform},ipad:function(){return"MacIntel"===navigator.platform&&0<navigator.maxTouchPoints||"iPad"===navigator.platform},android:function(){return/Android/i.test(navigator.userAgent)},what:function(e){var t,r="color:#cb3c3c",n=["%cwebReader state overview%c"],o=["font-size:1.2em;font-weight:800;color:#F67C4D;text-decoration:underline","font-size:1em;font-weight:normal;color:inherit;text-decoration:none"];if(n.push("- webReader version: "+rspkr.meta.version),(rspkr.with.explorer()?t="Explorer":rspkr.with.edge()&&(t="Microsoft Edge"))||rspkr.with.chrome()&&(t="Chrome")||rspkr.with.safari()&&(t="Safari")||rspkr.with.firefox()&&(t="Firefox")||rspkr.with.opera()&&(t="Opera")||o.push(r)&&o.push("color:inherit")&&(t="%cnone%c"),n.push("- Detected browser: "+t),n.push("- Mobile: "+rspkr.mobile()),n.push("- Method: "+(!0===rspkr.cfg.item("general.usePost")?"POST":"GET")),rspkr.pl?n.push("- Audio Adapter: "+rspkr.pl.adapter):(n.push("- Audio Adapter: %cNot yet available%c"),o.push(r),o.push("color:inherit")),rspkr.hl?n.push("- HL Engine: "+(rspkr.hl.engine.useTextNodeMarkup?"Text Node HL engine":"Gecko HL engine")):(n.push("- HL Engine: %cNot yet available%c"),o.push(r),o.push("color:inherit")),n=n.join("\n"),o.splice(0,0,n),e)return o[0].replace(/%c/gi,"");console.log.apply(null,o)}}}(window),function(o){var i,s,a,t,r,e=(t=function(e){var t=e.document,r=navigator.userAgent,n=o.ReadSpeaker.DeferSelection;r&&(/iphone|ipad|ios|android/i.test(r.OS)||r.toLowerCase().match("android"))?($rs.regEvent(t.body,"touchend",n.saveSelection),$rs.regEvent(t.body,"selectionchange",n.saveSelection)):(r.toLowerCase().match("opera")?($rs.regEvent(t.body,"mouseup",n.saveSelectionOpera),$rs.regEvent(e,"mouseup",n.saveSelectionOpera)):$rs.regEvent(t.body,"mouseup",n.saveSelection),$rs.regEvent(t.body,"keyup",n.saveSelection)),$rs.regEvent(t.body,"mousedown",n.saveMousePosition)},r=function(e){var t=o.ReadSpeaker.DeferSelection,r=e.document;$rs.unregEvent(r.body,"touchend",t.saveSelection),$rs.unregEvent(r,"selectionchange",t.saveSelection),$rs.unregEvent(r.body,"mouseup",t.saveSelectionOpera),$rs.unregEvent(e,"mouseup",t.saveSelectionOpera),$rs.unregEvent(r.body,"mouseup",t.saveSelection),$rs.unregEvent(e,"mouseup",t.saveSelection),$rs.unregEvent(r.body,"keyup",t.saveSelection),$rs.unregEvent(r.body,"mousedown",t.saveMousePosition)},new function(){this.saveSelectionOpera=this.sso=l,this.saveSelection=this.ss=n,this.saveMousePosition=this.smp=c,this.getSelection=this.gs=d,this.unload=p,this.init=u});function n(e){for(var t=(i=e).originalEvent.srcElement,r=["input","textarea"],n=0;n<r.length;n++)if(t&&t.matches(r[n]))return;if(!$rs.isContentEditable(t)){e=t.ownerDocument||document;if($rs.isChildOfParent(t,rspkr.getRSBtns()[0])||$rs.isChildOfParent(t,"#rsbtn_popup"))return!1;a=0;try{e.getSelection;var o=e.getSelection();if($rs.isContentEditable(o.anchorNode)||$rs.isContentEditable(o.focusNode))return;s=o.toString(),a=s.length}catch(e){}return 0<a?ReadSpeaker.popup.showPopup(i,s):ReadSpeaker.popup.closePopup(i),!0}}function l(e){return setTimeout(function(){o.ReadSpeaker.DeferSelection.saveSelection(e)},50),!0}function d(){return i}function c(e){o.ReadSpeaker.ds.pointerX=e.pageX,o.ReadSpeaker.ds.pointerY=e.pageY}function u(){t(o),"complete"===document.readyState||"loaded"===document.readyState?$rs.getReadingFrames().forEach(function(e){try{t(e)}catch(e){}}):document.addEventListener("readystatechange",function(){"complete"!==document.readyState&&"loaded"!==document.readyState||$rs.getReadingFrames().forEach(function(e){try{t(e)}catch(e){}})})}function p(){"complete"===document.readyState||"loaded"===document.readyState?$rs.getReadingFrames().forEach(function(e){try{r(e)}catch(e){}}):document.addEventListener("readystatechange",function(){"complete"!==document.readyState&&"loaded"!==document.readyState||$rs.getReadingFrames().forEach(function(e){try{r(e)}catch(e){}})}),rspkr&&rspkr.c.data.setSelectedText&&i&&rspkr.c.data.setSelectedText(i)}o.ReadSpeaker.DeferSelection=o.ReadSpeaker.ds=e}(window),function(t){var e=navigator.userAgent,r=setTimeout;/mozilla/i.test(e)&&!/(compati)/.test(e)||/opera/i.test(e)||/webkit/i.test(e)||document.documentMode&&8<document.documentMode?document.addEventListener("DOMContentLoaded",t,!1):function(){var e=document.createElement("doc:rdy");try{e.doScroll("left"),t(),e=null}catch(e){r(arguments.callee,0)}}()}(function(){rspkr.init()});